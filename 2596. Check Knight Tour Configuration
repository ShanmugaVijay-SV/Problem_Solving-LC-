class Solution {
    public int[] chk(int i,int j,int d,int mat[][],int rl,int cl){
        int dir[][]={{-2,1},{-1,2},{1,2},{2,1},{2,-1},{1,-2},{-1,-2},{-2,-1}};
        for(int dr[]:dir){
            int r=i+dr[0];
            int c=j+dr[1];
            if(r>=0 && r<rl && c>=0 && c<cl && (mat[r][c])-1==d){
                return new int[]{r, c};
            }
        }
        return new int[]{-1,-1};
    }
    public boolean checkValidGrid(int[][] grid) {
        int data=0;
        int rl=grid.length;
        int cl=grid[0].length;
        if(grid[0][0]!=0) return false;
        int i=0;
        int j=0;
        while(true){
            int arr[]=chk(i,j,data,grid,rl,cl);
            if(arr[0]==-1){
                System.out.print(data);
                return false;
            }
            data++;
            i=arr[0];
            j=arr[1];
            if(data==(rl*cl)-1) return true;
        }
    }
}